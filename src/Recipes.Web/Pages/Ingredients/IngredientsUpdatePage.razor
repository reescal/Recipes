@page "/Ingredients/Update/{Id:guid}"

@if(ingredient == null || ingredient?.Id == Guid.Empty)
{
    <GridRow Justify="center">
        <GridCol>
            <Spin Indicator="loadingIcon" />
        </GridCol>
    </GridRow>
}
else
{
    <GridRow>
        <GridCol Offset="8" Span="8">
            <Title Level="4" Style="text-align: center; border-bottom: 1px #1890FF solid">Update Ingredient</Title>
        </GridCol>
    </GridRow>
    <Form Model="@ingredientUpdate" @ref="@_form" LabelColSpan="2" WrapperColSpan="6" LabelColOffset="8" OnFinish="OnFinish">
        <Validator>
            <FluentValidationValidator />
        </Validator>
        <ChildContent>
            <FormItem Label="Image">
                <Input @bind-Value="context.Image" />
            </FormItem>
            <FormItem Label="Name">
                <Input @bind-Value="@context.Name" />
            </FormItem>
            <FormItem Label="Description">
                <TextArea @bind-Value="@context.Description" />
            </FormItem>
            <FormItem Label="Type">
                <AutoComplete @bind-Value="@context.Type" Options="@IngredientTypes" />
            </FormItem>
            <FormItem WrapperColOffset="10" WrapperColSpan="2">
                <Button Type="@ButtonType.Primary" HtmlType="submit" Disabled="submitDisabled">
                    Submit
                </Button>
            </FormItem>
        </ChildContent>
    </Form>
}

@code {
    RenderFragment loadingIcon = @<Icon Type="loading" Theme="outline" Style="font-size: 24px" Spin />;
}
